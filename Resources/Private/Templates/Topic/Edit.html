<html lang="en"
			xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
			data-namespace-typo3-fluid="true">

<f:layout name="Default" />

<f:section name="main">
	<f:flashMessages/>

	<h3>{f:translate(key: 'preview')}</h3>

	<div class="card bg-light mb-3">
		<div class="row g-0">
			<div class="col-md-4">
				<f:if condition="{topic.images}">
					<f:for each="{topic.images}" as="image">
						<figure>
							<f:image image="{image}"
											 class="img-fluid rounded-start"
											 alt="{image.title}"
											 width="{settings.image.width}"
											 height="{settings.image.height}"
											 minWidth="{settings.image.minWidth}"
											 maxWidth="{settings.image.maxWidth}"
											 minHeight="{settings.image.minHeight}"
											 maxHeight="{settings.image.maxHeight}"/>
						</figure>
					</f:for>
				</f:if>
			</div>
			<div class="col-md-8">
				<div class="card-body">
					<h5 class="card-title">{topic.title}</h5>
					<p>{topic.description -> f:format.html(parseFuncTSPath: 'lib.parseFunc')->f:format.nl2br()}</p>
				</div>
			</div>
		</div>
	</div>

	<h2>{f:translate(key: 'editTopic')}</h2>

	<f:form action="update" name="topic" object="{topic}" enctype="multipart/form-data">
		<f:render partial="FormErrors" arguments="{object: 'topic'}" />

		<f:if condition="{isNew}">
			<f:form.hidden name="isNew" value="{isNew}" />
		</f:if>

		<f:if condition="{settings.auth} == 1">
			<f:render partial="User/FormFields" arguments="{object: 'topic', topic: topic}" />
		</f:if>

		<f:render partial="Topic/FormFields" arguments="{object: 'topic'}" />

		<f:form.submit class="btn btn-primary" value="{f:translate(key: 'save')}" />
	</f:form>
</f:section>
</html>
